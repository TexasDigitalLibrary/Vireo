<!DOCTYPE html>
<html>
<head>
<title>#{get 'title' /}</title>
<meta charset="utf-8">
<script src="@{'/public/javascripts/jquery-1.7.2.min.js'}" type="text/javascript" charset="${_response_encoding}"></script>
<script src="@{'/public/javascripts/jquery-ui-1.8.21.min.js'}" type="text/javascript" charset="${_response_encoding}"></script>                            
<script src="@{'/public/bootstrap/js/bootstrap.min.js'}" type="text/javascript" charset="${_response_encoding}"></script>
<script src="@{'/public/javascripts/vireo-admin.js'}" type="text/javascript" charset="${_response_encoding}"></script>
<script src="@{'/public/javascripts/vireo-filtertab.js'}" type="text/javascript" charset="${_response_encoding}"></script>      
#{qunit.include /}
</head>
<body>
</body>
<script language="JavaScript">

/** Functions to reset the dom between tests **/
function reset() {
    jQuery("body").empty();
}

/**
 * Test swapping from span to input field
 */
test("test batchConfirmHandler" , function() {
	expect(1);
	reset();
	
	//Create markup to test
	var markup = '<form>';
		markup += '<button class="batchConfirm">Transition</button>';
		markup += '</form>';
	
	//Append markup to body
	jQuery("body").append(markup);
		
	//Register the handler
	var handler = batchConfirmHandler(8);
	jQuery(".batchConfirm").click(handler);
	
	//Simulate click
	jQuery(".batchConfirm").click();
	
	equal("This will affect 8 record(s). Are you sure?", jQuery("button").text(), "The confirmation text does not match.");

});
  
</script>
</html> 