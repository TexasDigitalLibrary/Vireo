<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Vireo: controllers.settings.ApplicationSettingsTab Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="vireo-logo-sm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Vireo
   &#160;<span id="projectnumber">3.0.2</span>
   </div>
   <div id="projectbrief">Vireo Electronic Thesis and Dissertation Submission System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classcontrollers_1_1settings_1_1_application_settings_tab.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="classcontrollers_1_1settings_1_1_application_settings_tab-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">controllers.settings.ApplicationSettingsTab Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for controllers.settings.ApplicationSettingsTab:</div>
<div class="dyncontent">
<div class="center"><img src="classcontrollers_1_1settings_1_1_application_settings_tab__inherit__graph.png" border="0" usemap="#controllers_8settings_8_application_settings_tab_inherit__map" alt="Inheritance graph"/></div>
<map name="controllers_8settings_8_application_settings_tab_inherit__map" id="controllers_8settings_8_application_settings_tab_inherit__map">
<area shape="rect" id="node2" href="classcontrollers_1_1_settings_tab.html" title="{controllers.SettingsTab\n||+ settingsRedirect()\l+ updateProfileJSON()\l# saveModelOrder()\l# resolveIds()\l# monthNameToInt()\l}" alt="" coords="43,536,199,672"/><area shape="rect" id="node3" href="classcontrollers_1_1_abstract_vireo_controller.html" title="{controllers.AbstractVireo\lController\n|+ context\l+ personRepo\l+ subRepo\l+ settingRepo\l+ proquestRepo\l+ errorLog\l+ stateManager\l+ indexer\l+ searcher\l+ firstUser\l|+ injectRepositories()\l+ checkForFirstUser()\l+ handleError()\l# isEmpty()\l# isNotEmpty()\l# escapeJavaScript()\l# URIEncode()\l# toJSON()\l# text2html()\l# isFieldRequired()\l}" alt="" coords="39,131,203,487"/></map>
</div>
<div class="dynheader">
Collaboration diagram for controllers.settings.ApplicationSettingsTab:</div>
<div class="dyncontent">
<div class="center"><img src="classcontrollers_1_1settings_1_1_application_settings_tab__coll__graph.png" border="0" usemap="#controllers_8settings_8_application_settings_tab_coll__map" alt="Collaboration graph"/></div>
<map name="controllers_8settings_8_application_settings_tab_coll__map" id="controllers_8settings_8_application_settings_tab_coll__map">
<area shape="rect" id="node2" href="classcontrollers_1_1_settings_tab.html" title="{controllers.SettingsTab\n||+ settingsRedirect()\l+ updateProfileJSON()\l# saveModelOrder()\l# resolveIds()\l# monthNameToInt()\l}" alt="" coords="909,1640,1065,1776"/><area shape="rect" id="node3" href="classcontrollers_1_1_abstract_vireo_controller.html" title="{controllers.AbstractVireo\lController\n|+ firstUser\l|+ injectRepositories()\l+ checkForFirstUser()\l+ handleError()\l# isEmpty()\l# isNotEmpty()\l# escapeJavaScript()\l# URIEncode()\l# toJSON()\l# text2html()\l# isFieldRequired()\l}" alt="" coords="905,1365,1069,1589"/><area shape="rect" id="node5" href="interfaceorg_1_1tdl_1_1vireo_1_1state_1_1_state_manager.html" title="{org.tdl.vireo.state.State\lManager\n||+ getState()\l+ getAllStates()\l+ getInitialState()\l+ getCancelState()\l}" alt="" coords="119,585,277,721"/><area shape="rect" id="node6" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_searcher.html" title="{org.tdl.vireo.search.Searcher\n||+ submissionSearch()\l+ actionLogSearch()\l+ submissionSearch()\l+ actionLogSearch()\l}" alt="" coords="302,593,491,714"/><area shape="rect" id="node7" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_settings_repository.html" title="{org.tdl.vireo.model.Settings\lRepository\n||+ createDegree()\l+ findDegree()\l+ findDegreeByName()\l+ findAllDegrees()\l+ createMajor()\l+ findMajor()\l+ findAllMajors()\l+ createCollege()\l+ createCollege()\l+ findCollege()\l+ findCollegeByName()\l+ findAllColleges()\l+ createProgram()\l+ createProgram()\l+ findProgram()\l+ findProgramByName()\l+ findAllPrograms()\l+ createDepartment()\l+ createDepartment()\l+ findDepartment()\l+ findDepartmentByName()\l+ findAllDepartments()\l+ createAdministrativeGroup()\l+ createAdministrativeGroup()\l+ findAdministrativeGroup()\l+ findAdministrativeGroupByName()\l+ findAllAdministrativeGroups()\l+ createDocumentType()\l+ findDocumentType()\l+ findAllDocumentTypes()\l+ findAllDocumentTypes()\l+ createLanguage()\l+ findLanguage()\l+ findLanguageByName()\l+ findAllLanguages()\l+ createEmbargoType()\l+ createEmbargoType()\l+ findEmbargoType()\l+ findAllEmbargoTypes()\l+ findSystemEmbargoTypeByName\lAndGuarantor()\l+ findNonSystemEmbargoType\lByNameAndGuarantor()\l+ findAllActiveEmbargoTypes()\l+ createGraduationMonth()\l+ findGraduationMonth()\l+ findAllGraduationMonths()\l+ createCommitteeMemberRoleType()\l+ findCommitteeMemberRoleType()\l+ findAllCommitteeMemberRole\lTypes()\l+ findAllCommitteeMemberRole\lTypes()\l+ createEmailWorkflowRuleCondition()\l+ findEmailWorkflowRuleCondition()\l+ findAllEmailWorkflowRule\lConditions()\l+ createEmailWorkflowRule()\l+ findEmailWorkflowRule()\l+ findEmailWorkflowRulesBy\lState()\l+ findAllEmailWorkflowRules()\l+ createEmailTemplate()\l+ findEmailTemplate()\l+ findEmailTemplateByName()\l+ findSystemEmailTemplateByName()\l+ findNonSystemEmailTemplate\lByName()\l+ findAllEmailTemplates()\l+ createCustomActionDefinition()\l+ findCustomActionDefinition()\l+ findAllCustomActionDefinition()\l+ createConfiguration()\l+ findConfiguration()\l+ findConfigurationByName()\l+ getConfigValue()\l+ getConfigValue()\l+ getConfigBoolean()\l+ findAllConfigurations()\l+ createDepositLocation()\l+ findDepositLocation()\l+ findDepositLocationByName()\l+ findAllDepositLocations()\l}" alt="" coords="515,6,762,1301"/><area shape="rect" id="node8" href="interfaceorg_1_1tdl_1_1vireo_1_1error_1_1_error_log.html" title="{org.tdl.vireo.error.ErrorLog\n||+ logError()\l+ logError()\l+ logError()\l+ logError()\l+ getRecentErrorReports()\l+ clearRecentErrorReports()\l}" alt="" coords="787,578,974,729"/><area shape="rect" id="node9" href="interfaceorg_1_1tdl_1_1vireo_1_1security_1_1_security_context.html" title="{org.tdl.vireo.security.Security\lContext\n||+ login()\l+ logout()\l+ getPerson()\l+ isAdministrator()\l+ isManager()\l+ isReviewer()\l+ isStudent()\l+ isAuthenticated()\l+ turnOffAuthorization()\l+ restoreAuthorization()\l+ isAuthorizationActive()\l}" alt="" coords="998,534,1190,773"/><area shape="rect" id="node10" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_indexer.html" title="{org.tdl.vireo.search.Indexer\n||+ updated()\l+ updated()\l+ updated()\l+ isUpdated()\l+ isUpdated()\l+ rollback()\l+ commit()\l+ rebuild()\l+ deleteAndRebuild()\l+ isJobRunning()\l+ getCurrentJobLabel()\l+ getCurrentJobProgress()\l+ getCurrentJobTotal()\l}" alt="" coords="1215,527,1394,780"/><area shape="rect" id="node11" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission_repository.html" title="{org.tdl.vireo.model.Submission\lRepository\n||+ createSubmission()\l+ findSubmission()\l+ findSubmissions()\l+ findSubmissionByEmailHash()\l+ findSubmission()\l+ findAllSubmissions()\l+ findSubmissionsTotal()\l+ findAllGraduationSemesters()\l+ findAllSubmissionYears()\l+ findAllPrograms()\l+ findAllColleges()\l+ findAllDepartments()\l+ findAllMajors()\l+ findAllDegrees()\l+ findAllLanguages()\l+ findAttachment()\l+ findCommitteeMember()\l+ findCustomActionValue()\l+ findActionLog()\l+ findActionLogs()\l+ findActionLog()\l+ findAllActionLogs()\l+ findActionLogsTotal()\l+ createSearchFilter()\l+ findSearchFilter()\l+ findSearchFiltersByCreator\lOrPublic()\l+ findSearchFilterByCreator\lAndName()\l+ findAllSearchFilters()\l}" alt="" coords="1419,395,1629,912"/><area shape="rect" id="node12" href="interfaceorg_1_1tdl_1_1vireo_1_1proquest_1_1_proquest_vocabulary_repository.html" title="{org.tdl.vireo.proquest.Proquest\lVocabularyRepository\n||+ findAllSubjects()\l+ findSubjectByCode()\l+ findSubjectByDescription()\l+ findAllLanguages()\l+ findLanguageByCode()\l+ findLanguageByDescription()\l+ findAllDegrees()\l+ findDegreeByCode()\l+ findDegreeByDescription()\l}" alt="" coords="1655,549,1855,758"/><area shape="rect" id="node13" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_person_repository.html" title="{org.tdl.vireo.model.Person\lRepository\n||+ createPerson()\l+ findPerson()\l+ findPersonByEmail()\l+ findPersonByNetId()\l+ findPersonsByRole()\l+ searchPersons()\l+ findAllPersons()\l+ findPersonsTotal()\l+ findPreference()\l}" alt="" coords="1880,549,2054,758"/><area shape="rect" id="node14" href="interfaceorg_1_1tdl_1_1vireo_1_1export_1_1_deposit_service.html" title="{org.tdl.vireo.export.Deposit\lService\n||+ deposit()\l}" alt="" coords="1090,1662,1269,1754"/></map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ab92afb20450f68013c74d9d64f718b73"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1settings_1_1_application_settings_tab.html#ab92afb20450f68013c74d9d64f718b73">applicationSettings</a> ()</td></tr>
<tr class="separator:ab92afb20450f68013c74d9d64f718b73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae696f3fae672102253958641f1761978"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1settings_1_1_application_settings_tab.html#ae696f3fae672102253958641f1761978">updateApplicationSettingsJSON</a> (String field, String value)</td></tr>
<tr class="separator:ae696f3fae672102253958641f1761978"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1596aeb38af506c540c535498d721771"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1settings_1_1_application_settings_tab.html#a1596aeb38af506c540c535498d721771">addCustomActionJSON</a> (String name, Boolean isStudentVisible)</td></tr>
<tr class="separator:a1596aeb38af506c540c535498d721771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e9db751ff06adfef5be13711a9a95f5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1settings_1_1_application_settings_tab.html#a6e9db751ff06adfef5be13711a9a95f5">editCustomActionJSON</a> (String actionId, String name, Boolean level)</td></tr>
<tr class="separator:a6e9db751ff06adfef5be13711a9a95f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e8e798329e841c83678d77c7cb6151a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1settings_1_1_application_settings_tab.html#a6e8e798329e841c83678d77c7cb6151a">removeCustomActionJSON</a> (String actionId)</td></tr>
<tr class="separator:a6e8e798329e841c83678d77c7cb6151a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c37dff8b48ca21f0b4e5f2c11e93ced"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1settings_1_1_application_settings_tab.html#a6c37dff8b48ca21f0b4e5f2c11e93ced">reorderCustomActionsJSON</a> (String actionIds)</td></tr>
<tr class="separator:a6c37dff8b48ca21f0b4e5f2c11e93ced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac81b43ab11107761f4c5c11873174da6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1settings_1_1_application_settings_tab.html#ac81b43ab11107761f4c5c11873174da6">updateDepositLocationList</a> ()</td></tr>
<tr class="separator:ac81b43ab11107761f4c5c11873174da6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52c6db8d4112a5c4700a52896bc570ff"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1settings_1_1_application_settings_tab.html#a52c6db8d4112a5c4700a52896bc570ff">loadDepositLocation</a> (String depositLocationId)</td></tr>
<tr class="separator:a52c6db8d4112a5c4700a52896bc570ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5783ad3fed40608e23604f38fdfccbe4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1settings_1_1_application_settings_tab.html#a5783ad3fed40608e23604f38fdfccbe4">saveDepositLocation</a> (String depositLocationId)</td></tr>
<tr class="separator:a5783ad3fed40608e23604f38fdfccbe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6c7cde628ba946625235b51178cf1e2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1settings_1_1_application_settings_tab.html#ad6c7cde628ba946625235b51178cf1e2">removeDepositLocationJSON</a> (String depositLocationId)</td></tr>
<tr class="separator:ad6c7cde628ba946625235b51178cf1e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10a89e03c442a724a32c8ee86fbca1b5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1settings_1_1_application_settings_tab.html#a10a89e03c442a724a32c8ee86fbca1b5">reorderDepositLocationsJSON</a> (String depositLocationIds)</td></tr>
<tr class="separator:a10a89e03c442a724a32c8ee86fbca1b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e83769666fcb12f27d8608a234d70cc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1settings_1_1_application_settings_tab.html#a6e83769666fcb12f27d8608a234d70cc">searchMembers</a> (String query, Integer offset)</td></tr>
<tr class="separator:a6e83769666fcb12f27d8608a234d70cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d2b6f826705b535219911a185c4aa5f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1settings_1_1_application_settings_tab.html#a2d2b6f826705b535219911a185c4aa5f">updatePersonRole</a> (String personId, int role)</td></tr>
<tr class="separator:a2d2b6f826705b535219911a185c4aa5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classcontrollers_1_1_settings_tab"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classcontrollers_1_1_settings_tab')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classcontrollers_1_1_settings_tab.html">controllers.SettingsTab</a></td></tr>
<tr class="memitem:ac1a894fe0f7519743f23ceef1ccc4f55 inherit pub_static_methods_classcontrollers_1_1_settings_tab"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_settings_tab.html#ac1a894fe0f7519743f23ceef1ccc4f55">settingsRedirect</a> ()</td></tr>
<tr class="separator:ac1a894fe0f7519743f23ceef1ccc4f55 inherit pub_static_methods_classcontrollers_1_1_settings_tab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a265bd9da9808be495f0b190cf763f1a0 inherit pub_static_methods_classcontrollers_1_1_settings_tab"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_settings_tab.html#a265bd9da9808be495f0b190cf763f1a0">updateProfileJSON</a> (String field, String value)</td></tr>
<tr class="separator:a265bd9da9808be495f0b190cf763f1a0 inherit pub_static_methods_classcontrollers_1_1_settings_tab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classcontrollers_1_1_abstract_vireo_controller')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html">controllers.AbstractVireoController</a></td></tr>
<tr class="memitem:af33a92dee39e4e4abb1bee6fef0b6dc0 inherit pub_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html#af33a92dee39e4e4abb1bee6fef0b6dc0">injectRepositories</a> ()</td></tr>
<tr class="separator:af33a92dee39e4e4abb1bee6fef0b6dc0 inherit pub_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fb44183996b4a88719fcfd5fb091729 inherit pub_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html#a0fb44183996b4a88719fcfd5fb091729">checkForFirstUser</a> ()</td></tr>
<tr class="separator:a0fb44183996b4a88719fcfd5fb091729 inherit pub_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae59855ceea82f6e2d83a1352f1102230 inherit pub_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html#ae59855ceea82f6e2d83a1352f1102230">handleError</a> (Throwable throwable)</td></tr>
<tr class="separator:ae59855ceea82f6e2d83a1352f1102230 inherit pub_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ab5693b82400855094af360526a989b6d"><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1settings_1_1_application_settings_tab.html#ab5693b82400855094af360526a989b6d">SEARCH_MEMBERS_RESULTS_PER_PAGE</a> = 5</td></tr>
<tr class="separator:ab5693b82400855094af360526a989b6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae860bae97fea582c7a5e7de1af50a6e1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1export_1_1_deposit_service.html">DepositService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1settings_1_1_application_settings_tab.html#ae860bae97fea582c7a5e7de1af50a6e1">depositService</a> = Spring.getBeanOfType(DepositService.class)</td></tr>
<tr class="separator:ae860bae97fea582c7a5e7de1af50a6e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html">controllers.AbstractVireoController</a></td></tr>
<tr class="memitem:a2a91bb7a42b88190f809630b9b1e7f46 inherit pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1security_1_1_security_context.html">SecurityContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html#a2a91bb7a42b88190f809630b9b1e7f46">context</a> = Spring.getBeanOfType(SecurityContext.class)</td></tr>
<tr class="separator:a2a91bb7a42b88190f809630b9b1e7f46 inherit pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8388233eb6954734e3ad79d112738ee inherit pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_person_repository.html">PersonRepository</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html#aa8388233eb6954734e3ad79d112738ee">personRepo</a> = Spring.getBeanOfType(PersonRepository.class)</td></tr>
<tr class="separator:aa8388233eb6954734e3ad79d112738ee inherit pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55b13e29596aa29a7dfff3690f3973ff inherit pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission_repository.html">SubmissionRepository</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html#a55b13e29596aa29a7dfff3690f3973ff">subRepo</a> = Spring.getBeanOfType(SubmissionRepository.class)</td></tr>
<tr class="separator:a55b13e29596aa29a7dfff3690f3973ff inherit pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2cdde9051bc152da514c18d705a196a inherit pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_settings_repository.html">SettingsRepository</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html#aa2cdde9051bc152da514c18d705a196a">settingRepo</a> = Spring.getBeanOfType(SettingsRepository.class)</td></tr>
<tr class="separator:aa2cdde9051bc152da514c18d705a196a inherit pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67c47dd9989ac0be630051b62b38a520 inherit pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1proquest_1_1_proquest_vocabulary_repository.html">ProquestVocabularyRepository</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html#a67c47dd9989ac0be630051b62b38a520">proquestRepo</a> = Spring.getBeanOfType(ProquestVocabularyRepository.class)</td></tr>
<tr class="separator:a67c47dd9989ac0be630051b62b38a520 inherit pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a220b8640fe7d439ccb7657973bc84c82 inherit pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1error_1_1_error_log.html">ErrorLog</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html#a220b8640fe7d439ccb7657973bc84c82">errorLog</a> = Spring.getBeanOfType(ErrorLog.class)</td></tr>
<tr class="separator:a220b8640fe7d439ccb7657973bc84c82 inherit pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a586fb3608dd548bf2c64b6c475569922 inherit pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1state_1_1_state_manager.html">StateManager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html#a586fb3608dd548bf2c64b6c475569922">stateManager</a> = Spring.getBeanOfType(StateManager.class)</td></tr>
<tr class="separator:a586fb3608dd548bf2c64b6c475569922 inherit pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac64f8480f6321a3133c61c679bdbc649 inherit pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_indexer.html">Indexer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html#ac64f8480f6321a3133c61c679bdbc649">indexer</a> = Spring.getBeanOfType(Indexer.class)</td></tr>
<tr class="separator:ac64f8480f6321a3133c61c679bdbc649 inherit pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a020e885b2789775323db0f21ed495344 inherit pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_searcher.html">Searcher</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html#a020e885b2789775323db0f21ed495344">searcher</a> = Spring.getBeanOfType(Searcher.class)</td></tr>
<tr class="separator:a020e885b2789775323db0f21ed495344 inherit pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3d62fa6612416ab8f2b876aaf8f982c inherit pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller"><td class="memItemLeft" align="right" valign="top">static Boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html#aa3d62fa6612416ab8f2b876aaf8f982c">firstUser</a> = null</td></tr>
<tr class="separator:aa3d62fa6612416ab8f2b876aaf8f982c inherit pub_static_attribs_classcontrollers_1_1_abstract_vireo_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:af1439c2d71d2254f7aa7625c474f114a"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1settings_1_1_application_settings_tab.html#af1439c2d71d2254f7aa7625c474f114a">isValidCurrentSemester</a> (String value)</td></tr>
<tr class="separator:af1439c2d71d2254f7aa7625c474f114a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab73c960a23ad51340e42cb78a9daf619"><td class="memItemLeft" align="right" valign="top">static String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1settings_1_1_application_settings_tab.html#ab73c960a23ad51340e42cb78a9daf619">submitTestItem</a> (<a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_deposit_location.html">DepositLocation</a> location)</td></tr>
<tr class="separator:ab73c960a23ad51340e42cb78a9daf619"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classcontrollers_1_1_settings_tab"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classcontrollers_1_1_settings_tab')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classcontrollers_1_1_settings_tab.html">controllers.SettingsTab</a></td></tr>
<tr class="memitem:ae40d2a4e490575a0d4480f5c995a7f48 inherit pro_static_methods_classcontrollers_1_1_settings_tab"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_settings_tab.html#ae40d2a4e490575a0d4480f5c995a7f48">saveModelOrder</a> (List&lt;?extends <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_abstract_ordered_model.html">AbstractOrderedModel</a> &gt; models)</td></tr>
<tr class="separator:ae40d2a4e490575a0d4480f5c995a7f48 inherit pro_static_methods_classcontrollers_1_1_settings_tab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bb11129a77f2c13bf697dded822b269 inherit pro_static_methods_classcontrollers_1_1_settings_tab"><td class="memItemLeft" align="right" valign="top">static<br class="typebreak"/>
&lt; TextendsAbstractOrderedModel &gt;<br class="typebreak"/>
 List&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_settings_tab.html#a7bb11129a77f2c13bf697dded822b269">resolveIds</a> (String idString, Class&lt; T &gt; type)</td></tr>
<tr class="separator:a7bb11129a77f2c13bf697dded822b269 inherit pro_static_methods_classcontrollers_1_1_settings_tab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9afb0bd624cbc0ad7bb3472eeb6578c3 inherit pro_static_methods_classcontrollers_1_1_settings_tab"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_settings_tab.html#a9afb0bd624cbc0ad7bb3472eeb6578c3">monthNameToInt</a> (String monthName)</td></tr>
<tr class="separator:a9afb0bd624cbc0ad7bb3472eeb6578c3 inherit pro_static_methods_classcontrollers_1_1_settings_tab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classcontrollers_1_1_abstract_vireo_controller')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html">controllers.AbstractVireoController</a></td></tr>
<tr class="memitem:a8ff135ea8b9e9796dbef7d51b77ac233 inherit pro_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html#a8ff135ea8b9e9796dbef7d51b77ac233">isEmpty</a> (String value)</td></tr>
<tr class="separator:a8ff135ea8b9e9796dbef7d51b77ac233 inherit pro_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b14cfdcbcdada6eac4b378fd1443bf9 inherit pro_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html#a5b14cfdcbcdada6eac4b378fd1443bf9">isNotEmpty</a> (String value)</td></tr>
<tr class="separator:a5b14cfdcbcdada6eac4b378fd1443bf9 inherit pro_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03c6891fcfa455d7a8aadb9aa1750c1d inherit pro_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td class="memItemLeft" align="right" valign="top">static String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">escapeJavaScript</a> (String value)</td></tr>
<tr class="separator:a03c6891fcfa455d7a8aadb9aa1750c1d inherit pro_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a283238d203c91cfe97837c02ce587966 inherit pro_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td class="memItemLeft" align="right" valign="top">static String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html#a283238d203c91cfe97837c02ce587966">URIEncode</a> (String value)</td></tr>
<tr class="separator:a283238d203c91cfe97837c02ce587966 inherit pro_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0eb2078265d2db560324097ac54d2df inherit pro_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td class="memItemLeft" align="right" valign="top">static String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html#af0eb2078265d2db560324097ac54d2df">toJSON</a> (String[] values)</td></tr>
<tr class="separator:af0eb2078265d2db560324097ac54d2df inherit pro_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabf7ef41b3dfa3b5da6e791cff34cc5e inherit pro_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td class="memItemLeft" align="right" valign="top">static String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html#aabf7ef41b3dfa3b5da6e791cff34cc5e">text2html</a> (String value)</td></tr>
<tr class="separator:aabf7ef41b3dfa3b5da6e791cff34cc5e inherit pro_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76be37eaa99c3319f808038bc0fc63d8 inherit pro_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrollers_1_1_abstract_vireo_controller.html#a76be37eaa99c3319f808038bc0fc63d8">isFieldRequired</a> (<a class="el" href="enumorg_1_1tdl_1_1vireo_1_1constant_1_1_field_config.html">FieldConfig</a> field)</td></tr>
<tr class="separator:a76be37eaa99c3319f808038bc0fc63d8 inherit pro_static_methods_classcontrollers_1_1_abstract_vireo_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classcontrollers_1_1_application.html">Application</a> settings</p>
<dl class="section author"><dt>Author</dt><dd><a href="http://www.scottphillips.com">Scott Phillips</a> </dd></dl>

<p>Definition at line <a class="el" href="_application_settings_tab_8java_source.html#l00046">46</a> of file <a class="el" href="_application_settings_tab_8java_source.html">ApplicationSettingsTab.java</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1596aeb38af506c540c535498d721771"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void controllers.settings.ApplicationSettingsTab.addCustomActionJSON </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Boolean&#160;</td>
          <td class="paramname"><em>isStudentVisible</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add a new custom action value. The id and label of the new action will be returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The label of the new action </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_application_settings_tab_8java_source.html#l00231">231</a> of file <a class="el" href="_application_settings_tab_8java_source.html">ApplicationSettingsTab.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                                                                                  {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="keywordflow">if</span> (name == null || name.trim().length() == 0)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="stringliteral">&quot;Label is required&quot;</span>);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <span class="keywordflow">if</span>(isStudentVisible == null) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="stringliteral">&quot;isStudentVisible is required&quot;</span>);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="comment">// Add the new action to the end of the list.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            List&lt;CustomActionDefinition&gt; actions = settingRepo.findAllCustomActionDefinition();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            CustomActionDefinition action = settingRepo.createCustomActionDefinition(name, isStudentVisible);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            actions.add(action);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <a class="code" href="classcontrollers_1_1_settings_tab.html#ae40d2a4e490575a0d4480f5c995a7f48">saveModelOrder</a>(actions);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            name = <a class="code" href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">escapeJavaScript</a>(name);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            renderJSON(<span class="stringliteral">&quot;{ \&quot;success\&quot;: \&quot;true\&quot;, \&quot;id\&quot;: &quot;</span>+action.getId()+<span class="stringliteral">&quot;, \&quot;name\&quot;: \&quot;&quot;</span>+name+<span class="stringliteral">&quot;\&quot;, \&quot;level\&quot;: &quot;</span> + isStudentVisible + <span class="stringliteral">&quot;}&quot;</span>);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        } <span class="keywordflow">catch</span> (IllegalArgumentException iae) {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            String message = <a class="code" href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">escapeJavaScript</a>(iae.getMessage());            </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            renderJSON(<span class="stringliteral">&quot;{ \&quot;failure\&quot;: \&quot;true\&quot;, \&quot;message\&quot;: \&quot;&quot;</span>+message+<span class="stringliteral">&quot;\&quot; }&quot;</span>);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        } <span class="keywordflow">catch</span> (PersistenceException pe) {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            name = <a class="code" href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">escapeJavaScript</a>(name);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            renderJSON(<span class="stringliteral">&quot;{ \&quot;failure\&quot;: \&quot;true\&quot;, \&quot;message\&quot;: \&quot;Another custom action already exists with the name: &#39;&quot;</span>+name+<span class="stringliteral">&quot;&#39;\&quot; }&quot;</span>);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        } <span class="keywordflow">catch</span> (RuntimeException re) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            Logger.error(re,<span class="stringliteral">&quot;Unable to add custom action&quot;</span>);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            String message = <a class="code" href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">escapeJavaScript</a>(re.getMessage());         </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            renderJSON(<span class="stringliteral">&quot;{ \&quot;failure\&quot;: \&quot;true\&quot;, \&quot;message\&quot;: \&quot;&quot;</span>+message+<span class="stringliteral">&quot;\&quot; }&quot;</span>);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    }</div>
<div class="ttc" id="classcontrollers_1_1_settings_tab_html_ae40d2a4e490575a0d4480f5c995a7f48"><div class="ttname"><a href="classcontrollers_1_1_settings_tab.html#ae40d2a4e490575a0d4480f5c995a7f48">controllers.SettingsTab.saveModelOrder</a></div><div class="ttdeci">static void saveModelOrder(List&lt;?extends AbstractOrderedModel &gt; models)</div><div class="ttdef"><b>Definition:</b> <a href="_settings_tab_8java_source.html#l00132">SettingsTab.java:132</a></div></div>
<div class="ttc" id="classcontrollers_1_1_abstract_vireo_controller_html_a03c6891fcfa455d7a8aadb9aa1750c1d"><div class="ttname"><a href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">controllers.AbstractVireoController.escapeJavaScript</a></div><div class="ttdeci">static String escapeJavaScript(String value)</div><div class="ttdef"><b>Definition:</b> <a href="_abstract_vireo_controller_8java_source.html#l00124">AbstractVireoController.java:124</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab92afb20450f68013c74d9d64f718b73"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void controllers.settings.ApplicationSettingsTab.applicationSettings </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Display the application settings page. </p>

<p>Definition at line <a class="el" href="_application_settings_tab_8java_source.html#l00058">58</a> of file <a class="el" href="_application_settings_tab_8java_source.html">ApplicationSettingsTab.java</a>.</p>

<p>References <a class="el" href="_role_type_8java_source.html#l00011">org.tdl.vireo.model.RoleType.REVIEWER</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                                             {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        renderArgs.put(<span class="stringliteral">&quot;SUBMISSIONS_OPEN&quot;</span>, settingRepo.findConfigurationByName(SUBMISSIONS_OPEN));</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        renderArgs.put(<span class="stringliteral">&quot;ALLOW_MULTIPLE_SUBMISSIONS&quot;</span>, settingRepo.findConfigurationByName(ALLOW_MULTIPLE_SUBMISSIONS));</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        renderArgs.put(<span class="stringliteral">&quot;CURRENT_SEMESTER&quot;</span>, settingRepo.getConfigValue(CURRENT_SEMESTER, <span class="stringliteral">&quot;&quot;</span>));</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        renderArgs.put(<span class="stringliteral">&quot;GRANTOR&quot;</span>, settingRepo.getConfigValue(GRANTOR, <span class="stringliteral">&quot;&quot;</span>));</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        renderArgs.put(<span class="stringliteral">&quot;SUBMIT_LICENSE_TEXT&quot;</span>, settingRepo.getConfigValue(SUBMIT_LICENSE_TEXT));</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        renderArgs.put(<span class="stringliteral">&quot;ORCID_VALIDATION&quot;</span>, settingRepo.getConfigValue(ORCID_VALIDATION));</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        renderArgs.put(<span class="stringliteral">&quot;ORCID_AUTHENTICATION&quot;</span>, settingRepo.getConfigValue(ORCID_AUTHENTICATION));</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        renderArgs.put(<span class="stringliteral">&quot;PROQUEST_INSTITUTION_CODE&quot;</span>, settingRepo.getConfigValue(PROQUEST_INSTITUTION_CODE));</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        renderArgs.put(<span class="stringliteral">&quot;PROQUEST_INDEXING&quot;</span>, settingRepo.getConfigValue(PROQUEST_INDEXING));</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        renderArgs.put(<span class="stringliteral">&quot;PROQUEST_LICENSE_TEXT&quot;</span>, settingRepo.getConfigValue(PROQUEST_LICENSE_TEXT));</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        List&lt;String&gt; degrees = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">for</span>(Degree degree : <a class="code" href="classcontrollers_1_1_abstract_vireo_controller.html#aa2cdde9051bc152da514c18d705a196a">settingRepo</a>.<a class="code" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_settings_repository.html#a263252a5dfc48cfe2dc75f29bf26f3d3">findAllDegrees</a>()) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="keywordflow">if</span> (!degrees.contains(degree.getName()))</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                degrees.add(degree.getName());</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">for</span> (String degree : <a class="code" href="classcontrollers_1_1_abstract_vireo_controller.html#a55b13e29596aa29a7dfff3690f3973ff">subRepo</a>.<a class="code" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission_repository.html#a13bdc40a0edef84f3958495100f1d4ef">findAllDegrees</a>()) {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <span class="keywordflow">if</span> (!degrees.contains(degree))</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                degrees.add(degree);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        List&lt;String&gt; proquestDegrees = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keywordflow">for</span> (ProquestDegree degree : <a class="code" href="classcontrollers_1_1_abstract_vireo_controller.html#a67c47dd9989ac0be630051b62b38a520">proquestRepo</a>.<a class="code" href="interfaceorg_1_1tdl_1_1vireo_1_1proquest_1_1_proquest_vocabulary_repository.html#a733ea8bd5d4dd2480d607e1784c878cb">findAllDegrees</a>()) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            String sanatizedCode = degree.getCode().replaceAll(<span class="stringliteral">&quot;&#39;&quot;</span>,<span class="stringliteral">&quot;&amp;#39;&quot;</span>);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <span class="keywordflow">if</span> (!proquestDegrees.contains(sanatizedCode)) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                proquestDegrees.add(sanatizedCode);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        List&lt;CustomActionDefinition&gt; actions = settingRepo.findAllCustomActionDefinition();</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        List&lt;DepositLocation&gt; locations = settingRepo.findAllDepositLocations();</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        List&lt;Packager&gt; packagers = <span class="keyword">new</span> ArrayList&lt;Packager&gt;( (Collection) Spring.getBeansOfType(Packager.class).values() );</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        List&lt;Depositor&gt; depositors = <span class="keyword">new</span> ArrayList&lt;Depositor&gt;( (Collection) Spring.getBeansOfType(Depositor.class).values() );</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        List&lt;Person&gt; reviewers = personRepo.findPersonsByRole(<a class="code" href="enumorg_1_1tdl_1_1vireo_1_1model_1_1_role_type.html#a0b7f53ed1e50883892659ab70823e867">RoleType.REVIEWER</a>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keywordtype">int</span> offset=0;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordtype">int</span> limit=<a class="code" href="classcontrollers_1_1settings_1_1_application_settings_tab.html#ab5693b82400855094af360526a989b6d">SEARCH_MEMBERS_RESULTS_PER_PAGE</a>;      </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        List&lt;Person&gt; searchResults = personRepo.searchPersons(null, offset, limit);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        String nav = <span class="stringliteral">&quot;settings&quot;</span>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        String subNav = <span class="stringliteral">&quot;application&quot;</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        renderTemplate(<span class="stringliteral">&quot;SettingTabs/applicationSettings.html&quot;</span>,nav, subNav, degrees, proquestDegrees, actions, locations, packagers, depositors, reviewers, searchResults, offset, limit);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    }</div>
<div class="ttc" id="classcontrollers_1_1_abstract_vireo_controller_html_a55b13e29596aa29a7dfff3690f3973ff"><div class="ttname"><a href="classcontrollers_1_1_abstract_vireo_controller.html#a55b13e29596aa29a7dfff3690f3973ff">controllers.AbstractVireoController.subRepo</a></div><div class="ttdeci">static SubmissionRepository subRepo</div><div class="ttdef"><b>Definition:</b> <a href="_abstract_vireo_controller_8java_source.html#l00038">AbstractVireoController.java:38</a></div></div>
<div class="ttc" id="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission_repository_html_a13bdc40a0edef84f3958495100f1d4ef"><div class="ttname"><a href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission_repository.html#a13bdc40a0edef84f3958495100f1d4ef">org.tdl.vireo.model.SubmissionRepository.findAllDegrees</a></div><div class="ttdeci">List&lt; String &gt; findAllDegrees()</div></div>
<div class="ttc" id="classcontrollers_1_1_abstract_vireo_controller_html_a67c47dd9989ac0be630051b62b38a520"><div class="ttname"><a href="classcontrollers_1_1_abstract_vireo_controller.html#a67c47dd9989ac0be630051b62b38a520">controllers.AbstractVireoController.proquestRepo</a></div><div class="ttdeci">static ProquestVocabularyRepository proquestRepo</div><div class="ttdef"><b>Definition:</b> <a href="_abstract_vireo_controller_8java_source.html#l00040">AbstractVireoController.java:40</a></div></div>
<div class="ttc" id="classcontrollers_1_1_abstract_vireo_controller_html_aa2cdde9051bc152da514c18d705a196a"><div class="ttname"><a href="classcontrollers_1_1_abstract_vireo_controller.html#aa2cdde9051bc152da514c18d705a196a">controllers.AbstractVireoController.settingRepo</a></div><div class="ttdeci">static SettingsRepository settingRepo</div><div class="ttdef"><b>Definition:</b> <a href="_abstract_vireo_controller_8java_source.html#l00039">AbstractVireoController.java:39</a></div></div>
<div class="ttc" id="classcontrollers_1_1settings_1_1_application_settings_tab_html_ab5693b82400855094af360526a989b6d"><div class="ttname"><a href="classcontrollers_1_1settings_1_1_application_settings_tab.html#ab5693b82400855094af360526a989b6d">controllers.settings.ApplicationSettingsTab.SEARCH_MEMBERS_RESULTS_PER_PAGE</a></div><div class="ttdeci">static final int SEARCH_MEMBERS_RESULTS_PER_PAGE</div><div class="ttdef"><b>Definition:</b> <a href="_application_settings_tab_8java_source.html#l00049">ApplicationSettingsTab.java:49</a></div></div>
<div class="ttc" id="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_settings_repository_html_a263252a5dfc48cfe2dc75f29bf26f3d3"><div class="ttname"><a href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_settings_repository.html#a263252a5dfc48cfe2dc75f29bf26f3d3">org.tdl.vireo.model.SettingsRepository.findAllDegrees</a></div><div class="ttdeci">List&lt; Degree &gt; findAllDegrees()</div></div>
<div class="ttc" id="interfaceorg_1_1tdl_1_1vireo_1_1proquest_1_1_proquest_vocabulary_repository_html_a733ea8bd5d4dd2480d607e1784c878cb"><div class="ttname"><a href="interfaceorg_1_1tdl_1_1vireo_1_1proquest_1_1_proquest_vocabulary_repository.html#a733ea8bd5d4dd2480d607e1784c878cb">org.tdl.vireo.proquest.ProquestVocabularyRepository.findAllDegrees</a></div><div class="ttdeci">List&lt; ProquestDegree &gt; findAllDegrees()</div></div>
<div class="ttc" id="enumorg_1_1tdl_1_1vireo_1_1model_1_1_role_type_html_a0b7f53ed1e50883892659ab70823e867"><div class="ttname"><a href="enumorg_1_1tdl_1_1vireo_1_1model_1_1_role_type.html#a0b7f53ed1e50883892659ab70823e867">org.tdl.vireo.model.RoleType.REVIEWER</a></div><div class="ttdeci">REVIEWER</div><div class="ttdef"><b>Definition:</b> <a href="_role_type_8java_source.html#l00011">RoleType.java:11</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6e9db751ff06adfef5be13711a9a95f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void controllers.settings.ApplicationSettingsTab.editCustomActionJSON </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>actionId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Boolean&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Edit an existing custom action's label. The id and the label will be returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">actionId</td><td>The id of the action to be edited, in the fom "action_id" </td></tr>
    <tr><td class="paramname">name</td><td>The new label of the action. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_application_settings_tab_8java_source.html#l00275">275</a> of file <a class="el" href="_application_settings_tab_8java_source.html">ApplicationSettingsTab.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                                                                                         {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="comment">// Check input</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">if</span> (name == null || name.trim().length() == 0)</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="stringliteral">&quot;Label is required&quot;</span>);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="keywordflow">if</span>(level == null) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="stringliteral">&quot;isStudentVisible is required&quot;</span>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="comment">// Save the new label</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            String[] parts = actionId.split(<span class="stringliteral">&quot;_&quot;</span>);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            Long <span class="keywordtype">id</span> = Long.valueOf(parts[1]);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            CustomActionDefinition action = settingRepo.findCustomActionDefinition(id);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            action.setLabel(name);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            action.setIsStudentVisible(level);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            action.save();</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            name = <a class="code" href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">escapeJavaScript</a>(name);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            renderJSON(<span class="stringliteral">&quot;{ \&quot;success\&quot;: \&quot;true\&quot;, \&quot;id\&quot;: &quot;</span>+action.getId()+<span class="stringliteral">&quot;, \&quot;name\&quot;: \&quot;&quot;</span>+name+<span class="stringliteral">&quot;\&quot;, \&quot;level\&quot;: &quot;</span> + level + <span class="stringliteral">&quot;}&quot;</span>);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        } <span class="keywordflow">catch</span> (IllegalArgumentException iae) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            String message = <a class="code" href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">escapeJavaScript</a>(iae.getMessage());            </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            renderJSON(<span class="stringliteral">&quot;{ \&quot;failure\&quot;: \&quot;true\&quot;, \&quot;message\&quot;: \&quot;&quot;</span>+message+<span class="stringliteral">&quot;\&quot; }&quot;</span>);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        } <span class="keywordflow">catch</span> (PersistenceException pe) {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            name = <a class="code" href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">escapeJavaScript</a>(name);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            renderJSON(<span class="stringliteral">&quot;{ \&quot;failure\&quot;: \&quot;true\&quot;, \&quot;message\&quot;: \&quot;Another custom action already exists with the name: &#39;&quot;</span>+name+<span class="stringliteral">&quot;&#39;\&quot; }&quot;</span>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        } <span class="keywordflow">catch</span> (RuntimeException re) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            Logger.error(re,<span class="stringliteral">&quot;Unable to edit custom action&quot;</span>);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            String message = <a class="code" href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">escapeJavaScript</a>(re.getMessage());         </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            renderJSON(<span class="stringliteral">&quot;{ \&quot;failure\&quot;: \&quot;true\&quot;, \&quot;message\&quot;: \&quot;&quot;</span>+message+<span class="stringliteral">&quot;\&quot; }&quot;</span>);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    }</div>
<div class="ttc" id="classcontrollers_1_1_abstract_vireo_controller_html_a03c6891fcfa455d7a8aadb9aa1750c1d"><div class="ttname"><a href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">controllers.AbstractVireoController.escapeJavaScript</a></div><div class="ttdeci">static String escapeJavaScript(String value)</div><div class="ttdef"><b>Definition:</b> <a href="_abstract_vireo_controller_8java_source.html#l00124">AbstractVireoController.java:124</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af1439c2d71d2254f7aa7625c474f114a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static boolean controllers.settings.ApplicationSettingsTab.isValidCurrentSemester </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Validate the current semester string which must be of the format: month year.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>The value to be validated. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Either true if valid, otherwise false. </dd></dl>

<p>Definition at line <a class="el" href="_application_settings_tab_8java_source.html#l00801">801</a> of file <a class="el" href="_application_settings_tab_8java_source.html">ApplicationSettingsTab.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                                                                  {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            <span class="keywordflow">if</span> (value == null || value.trim().length() == 0)</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                <span class="comment">// The blank value is also acceptable.</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;            String[] parts = value.split(<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            <span class="keywordflow">if</span> (parts.length != 2)</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            Integer month = <a class="code" href="classcontrollers_1_1_settings_tab.html#a9afb0bd624cbc0ad7bb3472eeb6578c3">monthNameToInt</a>(parts[0]);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            Integer year = Integer.valueOf(parts[1]);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        } <span class="keywordflow">catch</span> (RuntimeException re) {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    }</div>
<div class="ttc" id="classcontrollers_1_1_settings_tab_html_a9afb0bd624cbc0ad7bb3472eeb6578c3"><div class="ttname"><a href="classcontrollers_1_1_settings_tab.html#a9afb0bd624cbc0ad7bb3472eeb6578c3">controllers.SettingsTab.monthNameToInt</a></div><div class="ttdeci">static int monthNameToInt(String monthName)</div><div class="ttdef"><b>Definition:</b> <a href="_settings_tab_8java_source.html#l00243">SettingsTab.java:243</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a52c6db8d4112a5c4700a52896bc570ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void controllers.settings.ApplicationSettingsTab.loadDepositLocation </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>depositLocationId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Load a deposit loation into the modal dialog box. We will attempt to test the connection and return proper results just as the save() method would.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">depositLocationId</td><td>The id of the depositlocation, or null if creating a new location. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_application_settings_tab_8java_source.html#l00380">380</a> of file <a class="el" href="_application_settings_tab_8java_source.html">ApplicationSettingsTab.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                                                                     {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        String name = null;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        Packager packager = null;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        Depositor depositor = null;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        String username = null;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        String password = null;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        String onBehalfOf = null;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        String repository = null;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        Integer timeout = null;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        String collection = null;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordtype">boolean</span> connectionOk = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        Map&lt;String,String&gt; collectionsMap = null;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="keywordflow">if</span> (depositLocationId != null) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            String[] parts = depositLocationId.split(<span class="stringliteral">&quot;_&quot;</span>);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            Long <span class="keywordtype">id</span> = Long.valueOf(parts[1]);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            DepositLocation location = settingRepo.findDepositLocation(id);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            name = location.getName();</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            packager = location.getPackager();</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            depositor = location.getDepositor();</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            username = location.getUsername();</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            password = location.getPassword();</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            onBehalfOf = location.getOnBehalfOf();</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            repository = location.getRepository();</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            timeout = location.getTimeout();</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            collection = location.getCollection();</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                        </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">// Don&#39;t try to connect on inital load because it could take too long.</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">//          try {</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">//              collectionsMap = depositor.getCollections(location);</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">//              connectionOk = true;</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">//              </span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">//              if (collectionsMap == null || collectionsMap.size() == 0)</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">//                  validation.addError(&quot;collection&quot;,&quot;The repository is not able to provide a list of collections.&quot;);</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">//          } catch (DepositException de) {</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">//              </span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">//              if (de.isField(FIELD.REPOSITORY)) {</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">//                  validation.addError(&quot;repository&quot;,de.getMessage());</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">//              } else if (de.isField(FIELD.AUTHENTICATION)) {</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">//                  validation.addError(&quot;auth&quot;,de.getMessage());</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">//              } else {</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">//                  validation.addError(&quot;general&quot;,&quot;Unable to communicate with deposit location: &quot;+de.getMessage());</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">//              }</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">//              </span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">//          } catch (RuntimeException re) {</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">//              validation.addError(&quot;general&quot;,&quot;Unable to communicate with deposit location: &quot;+re.getMessage());</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">//          }</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        } </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        List&lt;Packager&gt; packagers = <span class="keyword">new</span> ArrayList&lt;Packager&gt;( (Collection) Spring.getBeansOfType(Packager.class).values() );</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        List&lt;Depositor&gt; depositors = <span class="keyword">new</span> ArrayList&lt;Depositor&gt;( (Collection) Spring.getBeansOfType(Depositor.class).values() );</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        String nav = <span class="stringliteral">&quot;settings&quot;</span>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        String subNav = <span class="stringliteral">&quot;deposit&quot;</span>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        renderTemplate(<span class="stringliteral">&quot;SettingTabs/editDepositLocation.include&quot;</span>,nav, subNav, packagers, depositors, collectionsMap, connectionOk,</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                <span class="comment">// Deposit location</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                depositLocationId, name, packager, depositor, username, password, onBehalfOf, repository, timeout, collection</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                );</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6e8e798329e841c83678d77c7cb6151a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void controllers.settings.ApplicationSettingsTab.removeCustomActionJSON </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>actionId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Remove an existing custom action value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">actionId</td><td>The id of the action to be removed of the form "action_id" </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_application_settings_tab_8java_source.html#l00316">316</a> of file <a class="el" href="_application_settings_tab_8java_source.html">ApplicationSettingsTab.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                                                               {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <span class="comment">// Delete the old action</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            String[] parts = actionId.split(<span class="stringliteral">&quot;_&quot;</span>);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            Long <span class="keywordtype">id</span> = Long.valueOf(parts[1]);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            CustomActionDefinition action = settingRepo.findCustomActionDefinition(id);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            action.delete();</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            renderJSON(<span class="stringliteral">&quot;{ \&quot;success\&quot;: \&quot;true\&quot; }&quot;</span>);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        } <span class="keywordflow">catch</span> (RuntimeException re) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            Logger.error(re,<span class="stringliteral">&quot;Unable to remove custom action&quot;</span>);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            String message = <a class="code" href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">escapeJavaScript</a>(re.getMessage());         </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            renderJSON(<span class="stringliteral">&quot;{ \&quot;failure\&quot;: \&quot;true\&quot;, \&quot;message\&quot;: \&quot;&quot;</span>+message+<span class="stringliteral">&quot;\&quot; }&quot;</span>);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        }</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    }</div>
<div class="ttc" id="classcontrollers_1_1_abstract_vireo_controller_html_a03c6891fcfa455d7a8aadb9aa1750c1d"><div class="ttname"><a href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">controllers.AbstractVireoController.escapeJavaScript</a></div><div class="ttdeci">static String escapeJavaScript(String value)</div><div class="ttdef"><b>Definition:</b> <a href="_abstract_vireo_controller_8java_source.html#l00124">AbstractVireoController.java:124</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad6c7cde628ba946625235b51178cf1e2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void controllers.settings.ApplicationSettingsTab.removeDepositLocationJSON </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>depositLocationId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Remove the specified deposit location.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">depositLocationId</td><td>The id of the location to be removed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_application_settings_tab_8java_source.html#l00648">648</a> of file <a class="el" href="_application_settings_tab_8java_source.html">ApplicationSettingsTab.java</a>.</p>

<p>References <a class="el" href="_name_format_8java_source.html#l00013">org.tdl.vireo.model.NameFormat.FIRST_LAST</a>.</p>
<div class="fragment"><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                                                                           {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        </div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <span class="comment">// Delete the old template</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            String[] parts = depositLocationId.split(<span class="stringliteral">&quot;_&quot;</span>);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            Long <span class="keywordtype">id</span> = Long.valueOf(parts[1]);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            DepositLocation location = settingRepo.findDepositLocation(id);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            location.delete();</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            Logger.info(<span class="stringliteral">&quot;%s (%d: %s) has deleted deposit location #%d.\nDeposit Name = &#39;%s&#39;\nDeposit Packager = &#39;%s&#39;\nDeposit Depositor = &#39;%s&#39;\nDeposit Repository = &#39;%s&#39;\nDeposit Timeout = &#39;%s&#39;\nDeposit Username = &#39;%s&#39;\nDeposit On Behalf Of = &#39;%s&#39;\nDeposit Collection = &#39;%s&#39;&quot;</span>,</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                    context.getPerson().getFormattedName(NameFormat.FIRST_LAST), </div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                    context.getPerson().getId(), </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                    context.getPerson().getEmail(),</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                    location.getId(),</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                    location.getName(),</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                    location.getPackager()==null ? <span class="stringliteral">&quot;null&quot;</span> : location.getPackager().getBeanName(),</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                    location.getDepositor()==null ? <span class="stringliteral">&quot;null&quot;</span> : location.getDepositor().getBeanName(),</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                    location.getRepository(),</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                    location.getTimeout(),</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                    location.getUsername(),</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                    location.getOnBehalfOf(),</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                    location.getCollection());</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            renderJSON(<span class="stringliteral">&quot;{ \&quot;success\&quot;: \&quot;true\&quot; }&quot;</span>);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        } <span class="keywordflow">catch</span> (RuntimeException re) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            Logger.error(re,<span class="stringliteral">&quot;Unable to remove deposit location&quot;</span>);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            String message = <a class="code" href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">escapeJavaScript</a>(re.getMessage());</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            renderJSON(<span class="stringliteral">&quot;{ \&quot;failure\&quot;: \&quot;true\&quot;, \&quot;message\&quot;: \&quot;&quot;</span> + message + <span class="stringliteral">&quot;\&quot; }&quot;</span>);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    }</div>
<div class="ttc" id="classcontrollers_1_1_abstract_vireo_controller_html_a03c6891fcfa455d7a8aadb9aa1750c1d"><div class="ttname"><a href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">controllers.AbstractVireoController.escapeJavaScript</a></div><div class="ttdeci">static String escapeJavaScript(String value)</div><div class="ttdef"><b>Definition:</b> <a href="_abstract_vireo_controller_8java_source.html#l00124">AbstractVireoController.java:124</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6c37dff8b48ca21f0b4e5f2c11e93ced"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void controllers.settings.ApplicationSettingsTab.reorderCustomActionsJSON </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>actionIds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reorder a list of custom actions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">actionIds</td><td>An ordered list of ids in the form: "action_1,action3,action_2" </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_application_settings_tab_8java_source.html#l00341">341</a> of file <a class="el" href="_application_settings_tab_8java_source.html">ApplicationSettingsTab.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                                                                  {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="keywordflow">if</span> (actionIds != null &amp;&amp; actionIds.trim().length() &gt; 0) {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                <span class="comment">// Save the new order</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                List&lt;CustomActionDefinition&gt; actions = <a class="code" href="classcontrollers_1_1_settings_tab.html#a7bb11129a77f2c13bf697dded822b269">resolveIds</a>(actionIds,CustomActionDefinition.class);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                <a class="code" href="classcontrollers_1_1_settings_tab.html#ae40d2a4e490575a0d4480f5c995a7f48">saveModelOrder</a>(actions);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            renderJSON(<span class="stringliteral">&quot;{ \&quot;success\&quot;: \&quot;true\&quot; }&quot;</span>);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        } <span class="keywordflow">catch</span> (RuntimeException re) {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            Logger.error(re,<span class="stringliteral">&quot;Unable to reorder custom action&quot;</span>);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            String message = <a class="code" href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">escapeJavaScript</a>(re.getMessage());         </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            renderJSON(<span class="stringliteral">&quot;{ \&quot;failure\&quot;: \&quot;true\&quot;, \&quot;message\&quot;: \&quot;&quot;</span>+message+<span class="stringliteral">&quot;\&quot; }&quot;</span>);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div>
<div class="ttc" id="classcontrollers_1_1_settings_tab_html_a7bb11129a77f2c13bf697dded822b269"><div class="ttname"><a href="classcontrollers_1_1_settings_tab.html#a7bb11129a77f2c13bf697dded822b269">controllers.SettingsTab.resolveIds</a></div><div class="ttdeci">static&lt; TextendsAbstractOrderedModel &gt; List&lt; T &gt; resolveIds(String idString, Class&lt; T &gt; type)</div><div class="ttdef"><b>Definition:</b> <a href="_settings_tab_8java_source.html#l00158">SettingsTab.java:158</a></div></div>
<div class="ttc" id="classcontrollers_1_1_settings_tab_html_ae40d2a4e490575a0d4480f5c995a7f48"><div class="ttname"><a href="classcontrollers_1_1_settings_tab.html#ae40d2a4e490575a0d4480f5c995a7f48">controllers.SettingsTab.saveModelOrder</a></div><div class="ttdeci">static void saveModelOrder(List&lt;?extends AbstractOrderedModel &gt; models)</div><div class="ttdef"><b>Definition:</b> <a href="_settings_tab_8java_source.html#l00132">SettingsTab.java:132</a></div></div>
<div class="ttc" id="classcontrollers_1_1_abstract_vireo_controller_html_a03c6891fcfa455d7a8aadb9aa1750c1d"><div class="ttname"><a href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">controllers.AbstractVireoController.escapeJavaScript</a></div><div class="ttdeci">static String escapeJavaScript(String value)</div><div class="ttdef"><b>Definition:</b> <a href="_abstract_vireo_controller_8java_source.html#l00124">AbstractVireoController.java:124</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a10a89e03c442a724a32c8ee86fbca1b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void controllers.settings.ApplicationSettingsTab.reorderDepositLocationsJSON </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>depositLocationIds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reorder the list of deposit locations.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">depositLocationIds</td><td>A comma seperated list of deposit location ids. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_application_settings_tab_8java_source.html#l00686">686</a> of file <a class="el" href="_application_settings_tab_8java_source.html">ApplicationSettingsTab.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                                                                              {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            <span class="keywordflow">if</span> (depositLocationIds != null &amp;&amp; depositLocationIds.trim().length() &gt; 0) {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                <span class="comment">// Save the new order</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                List&lt;DepositLocation&gt; locations = <a class="code" href="classcontrollers_1_1_settings_tab.html#a7bb11129a77f2c13bf697dded822b269">resolveIds</a>(depositLocationIds, DepositLocation.class);</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                <a class="code" href="classcontrollers_1_1_settings_tab.html#ae40d2a4e490575a0d4480f5c995a7f48">saveModelOrder</a>(locations);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            renderJSON(<span class="stringliteral">&quot;{ \&quot;success\&quot;: \&quot;true\&quot; }&quot;</span>);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        } <span class="keywordflow">catch</span> (RuntimeException re) {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            Logger.error(re,<span class="stringliteral">&quot;Unable to reorder deposit locations&quot;</span>);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            String message = <a class="code" href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">escapeJavaScript</a>(re.getMessage());</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            renderJSON(<span class="stringliteral">&quot;{ \&quot;failure\&quot;: \&quot;true\&quot;, \&quot;message\&quot;: \&quot;&quot;</span> + message + <span class="stringliteral">&quot;\&quot; }&quot;</span>);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    }</div>
<div class="ttc" id="classcontrollers_1_1_settings_tab_html_a7bb11129a77f2c13bf697dded822b269"><div class="ttname"><a href="classcontrollers_1_1_settings_tab.html#a7bb11129a77f2c13bf697dded822b269">controllers.SettingsTab.resolveIds</a></div><div class="ttdeci">static&lt; TextendsAbstractOrderedModel &gt; List&lt; T &gt; resolveIds(String idString, Class&lt; T &gt; type)</div><div class="ttdef"><b>Definition:</b> <a href="_settings_tab_8java_source.html#l00158">SettingsTab.java:158</a></div></div>
<div class="ttc" id="classcontrollers_1_1_settings_tab_html_ae40d2a4e490575a0d4480f5c995a7f48"><div class="ttname"><a href="classcontrollers_1_1_settings_tab.html#ae40d2a4e490575a0d4480f5c995a7f48">controllers.SettingsTab.saveModelOrder</a></div><div class="ttdeci">static void saveModelOrder(List&lt;?extends AbstractOrderedModel &gt; models)</div><div class="ttdef"><b>Definition:</b> <a href="_settings_tab_8java_source.html#l00132">SettingsTab.java:132</a></div></div>
<div class="ttc" id="classcontrollers_1_1_abstract_vireo_controller_html_a03c6891fcfa455d7a8aadb9aa1750c1d"><div class="ttname"><a href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">controllers.AbstractVireoController.escapeJavaScript</a></div><div class="ttdeci">static String escapeJavaScript(String value)</div><div class="ttdef"><b>Definition:</b> <a href="_abstract_vireo_controller_8java_source.html#l00124">AbstractVireoController.java:124</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5783ad3fed40608e23604f38fdfccbe4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void controllers.settings.ApplicationSettingsTab.saveDepositLocation </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>depositLocationId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Save the deposit location.</p>
<p>If the basic sanity checks pass we will save the new state. Then we will test the connection against the actual deposit server reporting any errors found.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">depositLocationId</td><td>The id of the deposit location being edited, or null if this is a new one being created. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_application_settings_tab_8java_source.html#l00457">457</a> of file <a class="el" href="_application_settings_tab_8java_source.html">ApplicationSettingsTab.java</a>.</p>

<p>References <a class="el" href="_deposit_exception_8java_source.html#l00066">org.tdl.vireo.export.DepositException.FIELD.AUTHENTICATION</a>, <a class="el" href="_name_format_8java_source.html#l00013">org.tdl.vireo.model.NameFormat.FIRST_LAST</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_deposit_location.html#afd128195d776489de5059cdcc47c5d2d">org.tdl.vireo.model.DepositLocation.getDepositor()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_deposit_location.html#ac1de6b2514f7432c76a3daf1578f7f7e">org.tdl.vireo.model.DepositLocation.getName()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_deposit_location.html#adb0cb2c72c0dd1b084eb2d0bc626722b">org.tdl.vireo.model.DepositLocation.getOnBehalfOf()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_deposit_location.html#ae0b2a31611d53155df550ecdecabfcfd">org.tdl.vireo.model.DepositLocation.getPackager()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_deposit_location.html#a8416e4eba35e9f363426b19c9e05bac6">org.tdl.vireo.model.DepositLocation.getTimeout()</a>, <a class="el" href="_deposit_exception_8java_source.html#l00057">org.tdl.vireo.export.DepositException.isField()</a>, and <a class="el" href="_deposit_exception_8java_source.html#l00066">org.tdl.vireo.export.DepositException.FIELD.REPOSITORY</a>.</p>
<div class="fragment"><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                                                                     {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="comment">// Get our paramaters</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        String action = params.get(<span class="stringliteral">&quot;action&quot;</span>);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        String name = params.get(<span class="stringliteral">&quot;name&quot;</span>);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        String packagerBeanName = params.get(<span class="stringliteral">&quot;packager&quot;</span>);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        String depositorBeanName = params.get(<span class="stringliteral">&quot;depositor&quot;</span>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        String username = params.get(<span class="stringliteral">&quot;username&quot;</span>);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        String password = params.get(<span class="stringliteral">&quot;password&quot;</span>);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        String onBehalfOf = params.get(<span class="stringliteral">&quot;onBehalfOf&quot;</span>);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        String repository = params.get(<span class="stringliteral">&quot;repository&quot;</span>);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        String sTimeout = params.get(<span class="stringliteral">&quot;timeout&quot;</span>);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        String collection = params.get(<span class="stringliteral">&quot;collection&quot;</span>);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="comment">// Nullify things</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">if</span> (username != null &amp;&amp; username.trim().length() == 0)</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            username = null;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="keywordflow">if</span> (password != null &amp;&amp; password.length() == 0)</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            password = null;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keywordflow">if</span> (onBehalfOf != null &amp;&amp; onBehalfOf.trim().length() == 0)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            onBehalfOf = null;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keywordflow">if</span> (sTimeout != null &amp;&amp; sTimeout.trim().length() == 0)</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            sTimeout = null;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="comment">// Validation and format conversions</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keywordflow">if</span> (name == null || name.trim().length() == 0)</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            validation.addError(<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;A name is required&quot;</span>);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        Packager packager = null;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            packager = (Packager) Spring.getBean(packagerBeanName);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        } <span class="keywordflow">catch</span> (RuntimeException re) {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            validation.addError(<span class="stringliteral">&quot;packager&quot;</span>, <span class="stringliteral">&quot;The format is invalid.&quot;</span>);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        Depositor depositor = null;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            depositor = (Depositor) Spring.getBean(depositorBeanName);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        } <span class="keywordflow">catch</span> (RuntimeException re) {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            validation.addError(<span class="stringliteral">&quot;depositor&quot;</span>, <span class="stringliteral">&quot;The protocol is invalid.&quot;</span>);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="keywordflow">if</span> (repository == null || repository.trim().length() == 0)</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            validation.addError(<span class="stringliteral">&quot;repository&quot;</span>, <span class="stringliteral">&quot;The repository location is required&quot;</span>);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        Integer timeout = null;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            timeout = Integer.parseInt(sTimeout);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        } <span class="keywordflow">catch</span> (NumberFormatException e) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            validation.addError(<span class="stringliteral">&quot;timeout&quot;</span>, <span class="stringliteral">&quot;The timeout value was invalid&quot;</span>);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="comment">// If no errors then try and save location</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        DepositLocation location = null;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordflow">if</span> (!validation.hasErrors()) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                <span class="comment">// Save the values</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                Boolean created = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                <span class="keywordflow">if</span> (depositLocationId != null &amp;&amp; depositLocationId.trim().length() &gt; 0) {</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                    String[] parts = depositLocationId.split(<span class="stringliteral">&quot;_&quot;</span>);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                    Long <span class="keywordtype">id</span> = Long.valueOf(parts[1]);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                    location = settingRepo.findDepositLocation(id);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                    location = settingRepo.createDepositLocation(name);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                    created = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                    </div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                    <span class="comment">// Make sure the new location is last on the list.</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                    List&lt;DepositLocation&gt; locations = settingRepo.findAllDepositLocations();</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                    locations.add(location);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                    <a class="code" href="classcontrollers_1_1_settings_tab.html#ae40d2a4e490575a0d4480f5c995a7f48">saveModelOrder</a>(locations);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                <span class="comment">// Check if we should update the password. We we display the</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                <span class="comment">// password we use blanks. So if it&#39;s the same number of blanks</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                <span class="comment">// leave the password alone.</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                String originalPassword = location.getPassword();</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                <span class="keywordflow">if</span> (originalPassword != null &amp;&amp; password != null) {                 </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                    <span class="comment">// Convert the original password to all spaces.</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                    originalPassword = originalPassword.replaceAll(<span class="stringliteral">&quot;.&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                    </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                    <span class="comment">// Sometimes the browser gives us non breaking spaces, switch those out with normal ones.</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                    password = password.replaceAll(<span class="stringliteral">&quot;\u00A0&quot;</span>,<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                    </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                    <span class="keywordflow">if</span> (!(originalPassword.length() == password.length() &amp;&amp; password.trim().length() == 0)) {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                        location.setPassword(password);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                    }</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                    location.setPassword(password);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                }</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                location.setUsername(username);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                location.setOnBehalfOf(onBehalfOf);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                location.setRepository(repository);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                location.setTimeout(timeout);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                location.setCollection(collection);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                location.setPackager(packager);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                location.setDepositor(depositor);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                location.setName(name);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                location.save();</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                Logger.info(<span class="stringliteral">&quot;%s (%d: %s) has %s deposit location #%d.\nDeposit Name = &#39;%s&#39;\nDeposit Packager = &#39;%s&#39;\nDeposit Depositor = &#39;%s&#39;\nDeposit Repository = &#39;%s&#39;\nDeposit Timeout = &#39;%s&#39;\nDeposit Username = &#39;%s&#39;\nDeposit On Behalf Of = &#39;%s&#39;\nDeposit Collection = &#39;%s&#39;&quot;</span>,</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                        context.getPerson().getFormattedName(NameFormat.FIRST_LAST), </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                        context.getPerson().getId(), </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                        context.getPerson().getEmail(),</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                        created ? <span class="stringliteral">&quot;added&quot;</span> : <span class="stringliteral">&quot;edited&quot;</span>,</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                        location.getId(),</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                        location.getName(),</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                        location.getPackager()==null ? <span class="stringliteral">&quot;null&quot;</span> : location.getPackager().getBeanName(),</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                        location.getDepositor()==null ? <span class="stringliteral">&quot;null&quot;</span> : location.getDepositor().getBeanName(),</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                        location.getRepository(),</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                        location.getTimeout(),</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                        location.getUsername(),</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                        location.getOnBehalfOf(),</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                        location.getCollection());</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                depositLocationId = <span class="stringliteral">&quot;depositLocation_&quot;</span>+location.getId();</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            } <span class="keywordflow">catch</span> (PersistenceException pe) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                validation.addError(<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;Another deposit location already exists with the name.&quot;</span>);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            } <span class="keywordflow">catch</span> (RuntimeException re) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                Logger.error(re,<span class="stringliteral">&quot;Unable to save Deposit Location&quot;</span>);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                validation.addError(<span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;Unable to save form because: &quot;</span>+re.getMessage());</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        </div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="comment">// If there are still no errors, then try and get a list of all collections</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        Map&lt;String,String&gt; collectionsMap = <span class="keyword">new</span> HashMap&lt;String,String&gt;();</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="keywordtype">boolean</span> connectionOk = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <span class="keywordflow">if</span> (!validation.hasErrors() &amp;&amp; location != null) {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                collectionsMap = depositor.getCollections(location);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                <span class="keywordflow">if</span> (collectionsMap == null || collectionsMap.size() == 0)</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                    validation.addError(<span class="stringliteral">&quot;collection&quot;</span>,<span class="stringliteral">&quot;The repository is not able to provide a list of collections.&quot;</span>);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                </div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                connectionOk = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            } <span class="keywordflow">catch</span> (DepositException de) {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                <span class="keywordflow">if</span> (de.isField(FIELD.REPOSITORY)) {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                    validation.addError(<span class="stringliteral">&quot;repository&quot;</span>,de.getMessage());</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (de.isField(FIELD.AUTHENTICATION)) {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                    validation.addError(<span class="stringliteral">&quot;auth&quot;</span>,de.getMessage());</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                    validation.addError(<span class="stringliteral">&quot;general&quot;</span>,<span class="stringliteral">&quot;Unable to communicate with deposit location: &quot;</span>+de.getMessage());</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            } <span class="keywordflow">catch</span> (RuntimeException re) {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                validation.addError(<span class="stringliteral">&quot;general&quot;</span>,<span class="stringliteral">&quot;Unable to communicate with deposit location: &quot;</span>+re.getMessage());</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            }</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            </div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            <span class="comment">// Now at the end do a check to make sure the user has selected a collection url.</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            <span class="keywordflow">if</span> (!validation.hasErrors() &amp;&amp; <span class="stringliteral">&quot;depositLocation-save&quot;</span>.equals(action) &amp;&amp; collection == null) {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                validation.addError(<span class="stringliteral">&quot;collection&quot;</span>,<span class="stringliteral">&quot;A collection is required.&quot;</span>);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        }</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="comment">// IF the user want&#39;s let&#39;s test a real submission.</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        String testDepositId = null;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        <span class="keywordflow">if</span> (!validation.hasErrors() &amp;&amp; location != null &amp;&amp; <span class="stringliteral">&quot;depositLocation-test-submit&quot;</span>.equals(action)) {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                testDepositId = <a class="code" href="classcontrollers_1_1settings_1_1_application_settings_tab.html#ab73c960a23ad51340e42cb78a9daf619">submitTestItem</a>(location);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            } <span class="keywordflow">catch</span> (RuntimeException re) {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                Logger.warn(re,<span class="stringliteral">&quot;Unable to submit test item.&quot;</span>);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                validation.addError(<span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;Unable to submit test item because: &quot;</span>+re.getMessage());</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        }       </div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        List&lt;Packager&gt; packagers = <span class="keyword">new</span> ArrayList&lt;Packager&gt;( (Collection) Spring.getBeansOfType(Packager.class).values() );</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        List&lt;Depositor&gt; depositors = <span class="keyword">new</span> ArrayList&lt;Depositor&gt;( (Collection) Spring.getBeansOfType(Depositor.class).values() );</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="keywordflow">if</span> (depositLocationId != null &amp;&amp; depositLocationId.trim().length() == 0)</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            depositLocationId = null;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        renderTemplate(<span class="stringliteral">&quot;SettingTabs/editDepositLocation.include&quot;</span>, packagers, depositors, collectionsMap, testDepositId, connectionOk, action,</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            <span class="comment">// Deposit location</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            depositLocationId, name, packager, depositor, username, password, onBehalfOf, repository, timeout, collection);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    }</div>
<div class="ttc" id="classcontrollers_1_1_settings_tab_html_ae40d2a4e490575a0d4480f5c995a7f48"><div class="ttname"><a href="classcontrollers_1_1_settings_tab.html#ae40d2a4e490575a0d4480f5c995a7f48">controllers.SettingsTab.saveModelOrder</a></div><div class="ttdeci">static void saveModelOrder(List&lt;?extends AbstractOrderedModel &gt; models)</div><div class="ttdef"><b>Definition:</b> <a href="_settings_tab_8java_source.html#l00132">SettingsTab.java:132</a></div></div>
<div class="ttc" id="classcontrollers_1_1settings_1_1_application_settings_tab_html_ab73c960a23ad51340e42cb78a9daf619"><div class="ttname"><a href="classcontrollers_1_1settings_1_1_application_settings_tab.html#ab73c960a23ad51340e42cb78a9daf619">controllers.settings.ApplicationSettingsTab.submitTestItem</a></div><div class="ttdeci">static String submitTestItem(DepositLocation location)</div><div class="ttdef"><b>Definition:</b> <a href="_application_settings_tab_8java_source.html#l00830">ApplicationSettingsTab.java:830</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcontrollers_1_1settings_1_1_application_settings_tab_a5783ad3fed40608e23604f38fdfccbe4_cgraph.png" border="0" usemap="#classcontrollers_1_1settings_1_1_application_settings_tab_a5783ad3fed40608e23604f38fdfccbe4_cgraph" alt=""/></div>
<map name="classcontrollers_1_1settings_1_1_application_settings_tab_a5783ad3fed40608e23604f38fdfccbe4_cgraph" id="classcontrollers_1_1settings_1_1_application_settings_tab_a5783ad3fed40608e23604f38fdfccbe4_cgraph">
<area shape="rect" id="node2" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_deposit_location.html#afd128195d776489de5059cdcc47c5d2d" title="org.tdl.vireo.model.Deposit\lLocation.getDepositor" alt="" coords="272,5,451,46"/><area shape="rect" id="node3" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_deposit_location.html#ac1de6b2514f7432c76a3daf1578f7f7e" title="org.tdl.vireo.model.Deposit\lLocation.getName" alt="" coords="272,70,451,111"/><area shape="rect" id="node4" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_deposit_location.html#adb0cb2c72c0dd1b084eb2d0bc626722b" title="org.tdl.vireo.model.Deposit\lLocation.getOnBehalfOf" alt="" coords="272,135,451,177"/><area shape="rect" id="node5" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_deposit_location.html#ae0b2a31611d53155df550ecdecabfcfd" title="org.tdl.vireo.model.Deposit\lLocation.getPackager" alt="" coords="272,201,451,242"/><area shape="rect" id="node6" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_deposit_location.html#a8416e4eba35e9f363426b19c9e05bac6" title="org.tdl.vireo.model.Deposit\lLocation.getTimeout" alt="" coords="272,266,451,307"/><area shape="rect" id="node7" href="classorg_1_1tdl_1_1vireo_1_1export_1_1_deposit_exception.html#a18288907951904651caa193955d3f839" title="org.tdl.vireo.export.Deposit\lException.isField" alt="" coords="272,331,451,373"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6e83769666fcb12f27d8608a234d70cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void controllers.settings.ApplicationSettingsTab.searchMembers </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Integer&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Search the current list of members and generate. This action is designed to be invoked from an AJAX call but does not produce JSON. Instead it returns an HTML snipit that can be used to replace the contents of the Search Members modal dialog box.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>The search query to look for new members, or null. </td></tr>
    <tr><td class="paramname">offset</td><td>The offset into the list of people </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_application_settings_tab_8java_source.html#l00717">717</a> of file <a class="el" href="_application_settings_tab_8java_source.html">ApplicationSettingsTab.java</a>.</p>

<p>References <a class="el" href="_role_type_8java_source.html#l00011">org.tdl.vireo.model.RoleType.REVIEWER</a>.</p>
<div class="fragment"><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                                                                   {</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="keywordflow">if</span> (offset == null || offset &lt; 0)</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            offset = 0;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        </div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <span class="keywordtype">int</span> limit = <a class="code" href="classcontrollers_1_1settings_1_1_application_settings_tab.html#ab5693b82400855094af360526a989b6d">SEARCH_MEMBERS_RESULTS_PER_PAGE</a>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        List&lt;Person&gt; searchResults = personRepo.searchPersons(query, offset, limit);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        List&lt;Person&gt; reviewers = personRepo.findPersonsByRole(<a class="code" href="enumorg_1_1tdl_1_1vireo_1_1model_1_1_role_type.html#a0b7f53ed1e50883892659ab70823e867">RoleType.REVIEWER</a>);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        renderTemplate(<span class="stringliteral">&quot;SettingTabs/searchMembers.include&quot;</span>,query, offset, limit, searchResults, reviewers);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    }</div>
<div class="ttc" id="classcontrollers_1_1settings_1_1_application_settings_tab_html_ab5693b82400855094af360526a989b6d"><div class="ttname"><a href="classcontrollers_1_1settings_1_1_application_settings_tab.html#ab5693b82400855094af360526a989b6d">controllers.settings.ApplicationSettingsTab.SEARCH_MEMBERS_RESULTS_PER_PAGE</a></div><div class="ttdeci">static final int SEARCH_MEMBERS_RESULTS_PER_PAGE</div><div class="ttdef"><b>Definition:</b> <a href="_application_settings_tab_8java_source.html#l00049">ApplicationSettingsTab.java:49</a></div></div>
<div class="ttc" id="enumorg_1_1tdl_1_1vireo_1_1model_1_1_role_type_html_a0b7f53ed1e50883892659ab70823e867"><div class="ttname"><a href="enumorg_1_1tdl_1_1vireo_1_1model_1_1_role_type.html#a0b7f53ed1e50883892659ab70823e867">org.tdl.vireo.model.RoleType.REVIEWER</a></div><div class="ttdeci">REVIEWER</div><div class="ttdef"><b>Definition:</b> <a href="_role_type_8java_source.html#l00011">RoleType.java:11</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab73c960a23ad51340e42cb78a9daf619"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static String controllers.settings.ApplicationSettingsTab.submitTestItem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_deposit_location.html">DepositLocation</a>&#160;</td>
          <td class="paramname"><em>location</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>An internal method to submit a test item to the repository location and check if it works.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The location to deposit too. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The deposit id of the item submitted. </dd></dl>

<p>Definition at line <a class="el" href="_application_settings_tab_8java_source.html#l00830">830</a> of file <a class="el" href="_application_settings_tab_8java_source.html">ApplicationSettingsTab.java</a>.</p>

<p>References <a class="el" href="_degree_level_8java_source.html#l00012">org.tdl.vireo.model.DegreeLevel.MASTERS</a>.</p>
<div class="fragment"><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                                                                     {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        </div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        Submission sub = subRepo.createSubmission(context.getPerson());</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            sub.save();</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            sub.setStudentFirstName(<span class="stringliteral">&quot;Test&quot;</span>);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            sub.setStudentLastName(<span class="stringliteral">&quot;Submitter&quot;</span>);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;            sub.setDocumentTitle(<span class="stringliteral">&quot;Test Submission&quot;</span>);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;            sub.setDocumentAbstract(<span class="stringliteral">&quot;This is a sample submission generated by Vireo to test the repository deposit features.&quot;</span>);</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            sub.setDocumentKeywords(<span class="stringliteral">&quot;Test; Vireo; Repository Deposit&quot;</span>);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;            sub.setDegree(<span class="stringliteral">&quot;Test Degree&quot;</span>);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            sub.setDegreeLevel(<a class="code" href="enumorg_1_1tdl_1_1vireo_1_1model_1_1_degree_level.html#ab8203f7d5abda0707309a14d2d6868ce">DegreeLevel.MASTERS</a>);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;            sub.setDepartment(<span class="stringliteral">&quot;Test Department&quot;</span>);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;            sub.setCollege(<span class="stringliteral">&quot;Test College&quot;</span>);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;            sub.setMajor(<span class="stringliteral">&quot;Test Major&quot;</span>);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;            sub.setDocumentType(<span class="stringliteral">&quot;Test Document Type&quot;</span>);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;            sub.setGraduationMonth(<span class="keyword">new</span> Date().getMonth());</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            sub.setGraduationYear(<span class="keyword">new</span> Date().getYear()+1900);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            CommitteeMember member = sub.addCommitteeMember(<span class="stringliteral">&quot;Test&quot;</span>, <span class="stringliteral">&quot;Advisor&quot;</span>, null).save();</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            member.addRole(<span class="stringliteral">&quot;Chair&quot;</span>);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            member.save();</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            sub.addCommitteeMember(<span class="stringliteral">&quot;Test&quot;</span>, <span class="stringliteral">&quot;Member 1&quot;</span>, null).save();</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            sub.addCommitteeMember(<span class="stringliteral">&quot;Test&quot;</span>, <span class="stringliteral">&quot;Member 2&quot;</span>, null).save();</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    </div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            sub.save();</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;            </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            depositService.deposit(location, sub, null, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                        </div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;            <span class="keywordflow">return</span> sub.getDepositId();</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        </div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        } <span class="keywordflow">finally</span> {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            <span class="keywordflow">if</span> (sub != null)</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                sub.delete();</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        }</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    }</div>
<div class="ttc" id="enumorg_1_1tdl_1_1vireo_1_1model_1_1_degree_level_html_ab8203f7d5abda0707309a14d2d6868ce"><div class="ttname"><a href="enumorg_1_1tdl_1_1vireo_1_1model_1_1_degree_level.html#ab8203f7d5abda0707309a14d2d6868ce">org.tdl.vireo.model.DegreeLevel.MASTERS</a></div><div class="ttdeci">MASTERS</div><div class="ttdef"><b>Definition:</b> <a href="_degree_level_8java_source.html#l00012">DegreeLevel.java:12</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae696f3fae672102253958641f1761978"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void controllers.settings.ApplicationSettingsTab.updateApplicationSettingsJSON </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle updating the individual values under the application settings tab.</p>
<p>If the field is defined as a boolean, then value should either be an null/empty string to be turned off, otherwise any other value will be interpreted as on.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">field</td><td>The field being updated. </td></tr>
    <tr><td class="paramname">value</td><td>The value of the new field. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_application_settings_tab_8java_source.html#l00123">123</a> of file <a class="el" href="_application_settings_tab_8java_source.html">ApplicationSettingsTab.java</a>.</p>

<p>References <a class="el" href="_name_format_8java_source.html#l00013">org.tdl.vireo.model.NameFormat.FIRST_LAST</a>.</p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                                                                                 {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            List&lt;String&gt; booleanFields = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            booleanFields.add(SUBMISSIONS_OPEN);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            booleanFields.add(ALLOW_MULTIPLE_SUBMISSIONS);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            List&lt;String&gt; textFields = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            textFields.add(CURRENT_SEMESTER);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            textFields.add(GRANTOR);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            textFields.add(SUBMIT_LICENSE_TEXT);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            textFields.add(ORCID_VALIDATION);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            textFields.add(ORCID_AUTHENTICATION);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            textFields.add(PROQUEST_INSTITUTION_CODE);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            textFields.add(PROQUEST_INDEXING);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            textFields.add(PROQUEST_LICENSE_TEXT);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="keywordflow">if</span> (booleanFields.contains(field)) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                <span class="comment">// This is a boolean field</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                <span class="keywordtype">boolean</span> booleanValue = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                <span class="keywordflow">if</span> (value == null || value.trim().length() == 0)</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                    booleanValue = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                Configuration config = settingRepo.findConfigurationByName(field);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                <span class="keywordflow">if</span> (!booleanValue &amp;&amp; config != null)</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                    config.delete();</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (booleanValue &amp;&amp; config == null)</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                    settingRepo.createConfiguration(field, <span class="stringliteral">&quot;true&quot;</span>).save();</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (textFields.contains(field)) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                <span class="comment">// This is a free-form text field</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <span class="keywordflow">if</span> (CURRENT_SEMESTER.toString().equals(field) &amp;&amp; !<a class="code" href="classcontrollers_1_1settings_1_1_application_settings_tab.html#af1439c2d71d2254f7aa7625c474f114a">isValidCurrentSemester</a>(value)) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                    <span class="keywordflow">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="stringliteral">&quot;The current semester is invalid, it must be of the form: month year. I.g. &#39;May 2012&#39;&quot;</span>);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                String oldValue = null;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                Configuration config = settingRepo.findConfigurationByName(field);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                <span class="keywordflow">if</span> (config == null)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                    config = settingRepo.createConfiguration(field, value);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                    oldValue = config.getValue();</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                    config.setValue(value);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                config.save();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                <span class="keywordflow">if</span>(SUBMIT_LICENSE_TEXT.equals(field)){</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                    Logger.info(<span class="stringliteral">&quot;%s (%d: %s) has updated license aggreement from &#39;%s&#39; to &#39;%s&#39;.&quot;</span>,</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                            context.getPerson().getFormattedName(NameFormat.FIRST_LAST), </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                            context.getPerson().getId(), </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                            context.getPerson().getEmail(),</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                            oldValue,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                            value);         </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                <span class="keywordflow">if</span>(PROQUEST_LICENSE_TEXT.equals(field)){</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                    Logger.info(<span class="stringliteral">&quot;%s (%d: %s) has updated proquest license aggreement from &#39;%s&#39; to &#39;%s&#39;.&quot;</span>,</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                            context.getPerson().getFormattedName(NameFormat.FIRST_LAST), </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                            context.getPerson().getId(), </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                            context.getPerson().getEmail(),</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                            oldValue,</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                            value); </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (field.startsWith(DEGREE_CODE_PREFIX)) { </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                <span class="comment">// This is a free form degree code.</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                String oldValue = null;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                Configuration config = settingRepo.findConfigurationByName(field);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                <span class="keywordflow">if</span> (config == null)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                    config = settingRepo.createConfiguration(field, value);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                    oldValue = config.getValue();</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                    config.setValue(value);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                config.save();</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="stringliteral">&quot;Unknown field &#39;&quot;</span>+field+<span class="stringliteral">&quot;&#39;&quot;</span>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            field = <a class="code" href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">escapeJavaScript</a>(field);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            value = <a class="code" href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">escapeJavaScript</a>(value);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            renderJSON(<span class="stringliteral">&quot;{ \&quot;success\&quot;: \&quot;true\&quot;, \&quot;field\&quot;: \&quot;&quot;</span>+field+<span class="stringliteral">&quot;\&quot;, \&quot;value\&quot;: \&quot;&quot;</span>+value+<span class="stringliteral">&quot;\&quot; }&quot;</span>);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        } <span class="keywordflow">catch</span> (IllegalArgumentException iae) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            String message = <a class="code" href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">escapeJavaScript</a>(iae.getMessage());            </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            renderJSON(<span class="stringliteral">&quot;{ \&quot;failure\&quot;: \&quot;true\&quot;, \&quot;message\&quot;: \&quot;&quot;</span>+message+<span class="stringliteral">&quot;\&quot; }&quot;</span>);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        } <span class="keywordflow">catch</span> (RuntimeException re) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            Logger.error(re,<span class="stringliteral">&quot;Unable to update application settings&quot;</span>);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            String message = <a class="code" href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">escapeJavaScript</a>(re.getMessage());         </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            renderJSON(<span class="stringliteral">&quot;{ \&quot;failure\&quot;: \&quot;true\&quot;, \&quot;message\&quot;: \&quot;&quot;</span>+message+<span class="stringliteral">&quot;\&quot; }&quot;</span>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    }</div>
<div class="ttc" id="classcontrollers_1_1settings_1_1_application_settings_tab_html_af1439c2d71d2254f7aa7625c474f114a"><div class="ttname"><a href="classcontrollers_1_1settings_1_1_application_settings_tab.html#af1439c2d71d2254f7aa7625c474f114a">controllers.settings.ApplicationSettingsTab.isValidCurrentSemester</a></div><div class="ttdeci">static boolean isValidCurrentSemester(String value)</div><div class="ttdef"><b>Definition:</b> <a href="_application_settings_tab_8java_source.html#l00801">ApplicationSettingsTab.java:801</a></div></div>
<div class="ttc" id="classcontrollers_1_1_abstract_vireo_controller_html_a03c6891fcfa455d7a8aadb9aa1750c1d"><div class="ttname"><a href="classcontrollers_1_1_abstract_vireo_controller.html#a03c6891fcfa455d7a8aadb9aa1750c1d">controllers.AbstractVireoController.escapeJavaScript</a></div><div class="ttdeci">static String escapeJavaScript(String value)</div><div class="ttdef"><b>Definition:</b> <a href="_abstract_vireo_controller_8java_source.html#l00124">AbstractVireoController.java:124</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac81b43ab11107761f4c5c11873174da6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void controllers.settings.ApplicationSettingsTab.updateDepositLocationList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the list of all deposit settings. This is called often after state changes so that we can be sure this list is up-to-date always. </p>

<p>Definition at line <a class="el" href="_application_settings_tab_8java_source.html#l00366">366</a> of file <a class="el" href="_application_settings_tab_8java_source.html">ApplicationSettingsTab.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                                                   {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        List&lt;DepositLocation&gt; locations = settingRepo.findAllDepositLocations();</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        renderTemplate(<span class="stringliteral">&quot;SettingTabs/listDepositLocations.include&quot;</span>,locations);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2d2b6f826705b535219911a185c4aa5f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void controllers.settings.ApplicationSettingsTab.updatePersonRole </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>personId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>role</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Modify the person's role. This action is designed to be invoked from an AJAK call but does not produce JSON. Instead it returns a snipit of HTML that can be used to replace the current list of reviewers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">personId</td><td>The id of the person, in the form "person_id" </td></tr>
    <tr><td class="paramname">role</td><td>The id of the new role </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_application_settings_tab_8java_source.html#l00741">741</a> of file <a class="el" href="_application_settings_tab_8java_source.html">ApplicationSettingsTab.java</a>.</p>

<p>References <a class="el" href="_name_format_8java_source.html#l00013">org.tdl.vireo.model.NameFormat.FIRST_LAST</a>, and <a class="el" href="_role_type_8java_source.html#l00011">org.tdl.vireo.model.RoleType.REVIEWER</a>.</p>
<div class="fragment"><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                                                                   {</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        </div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            RoleType newRole = RoleType.find(role);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            </div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            <span class="keywordflow">if</span> (newRole.ordinal() &gt; context.getPerson().getRole().ordinal())</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="stringliteral">&quot;Unable to set a user&#39;s role to a higher level that the current user.&quot;</span>);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            </div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            String[] parts = personId.split(<span class="stringliteral">&quot;_&quot;</span>);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            Long <span class="keywordtype">id</span> = Long.valueOf(parts[1]);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            Person updated = personRepo.findPerson(id);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;            RoleType oldRole = updated.getRole();</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;            updated.setRole(newRole);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            updated.save();</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            Logger.info(<span class="stringliteral">&quot;%s (%d: %s) has changed %s (%d: %s) role from %s to %s.&quot;</span>,</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                    context.getPerson().getFormattedName(NameFormat.FIRST_LAST), </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                    context.getPerson().getId(), </div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                    context.getPerson().getEmail(),</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                    updated.getFormattedName(<a class="code" href="enumorg_1_1tdl_1_1vireo_1_1model_1_1_name_format.html#a2b7e2e6dc26a8468e5af4312a3ea423a">NameFormat.FIRST_LAST</a>), </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                    updated.getId(), </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                    updated.getEmail(),</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                    oldRole.name(),</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                    newRole.name());</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            List&lt;Person&gt; reviewers = personRepo.findPersonsByRole(<a class="code" href="enumorg_1_1tdl_1_1vireo_1_1model_1_1_role_type.html#a0b7f53ed1e50883892659ab70823e867">RoleType.REVIEWER</a>);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            renderTemplate(<span class="stringliteral">&quot;SettingTabs/listMembers.include&quot;</span>,reviewers,updated);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;            </div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        } <span class="keywordflow">catch</span> (RuntimeException re) {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            Logger.error(re,<span class="stringliteral">&quot;Unable to update person&#39;s role&quot;</span>);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;            String error = re.getMessage();</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            renderTemplate(<span class="stringliteral">&quot;SettingTabs/listMembers.include&quot;</span>,error);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        }       </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    }</div>
<div class="ttc" id="enumorg_1_1tdl_1_1vireo_1_1model_1_1_name_format_html_a2b7e2e6dc26a8468e5af4312a3ea423a"><div class="ttname"><a href="enumorg_1_1tdl_1_1vireo_1_1model_1_1_name_format.html#a2b7e2e6dc26a8468e5af4312a3ea423a">org.tdl.vireo.model.NameFormat.FIRST_LAST</a></div><div class="ttdeci">FIRST_LAST</div><div class="ttdef"><b>Definition:</b> <a href="_name_format_8java_source.html#l00013">NameFormat.java:13</a></div></div>
<div class="ttc" id="enumorg_1_1tdl_1_1vireo_1_1model_1_1_role_type_html_a0b7f53ed1e50883892659ab70823e867"><div class="ttname"><a href="enumorg_1_1tdl_1_1vireo_1_1model_1_1_role_type.html#a0b7f53ed1e50883892659ab70823e867">org.tdl.vireo.model.RoleType.REVIEWER</a></div><div class="ttdeci">REVIEWER</div><div class="ttdef"><b>Definition:</b> <a href="_role_type_8java_source.html#l00011">RoleType.java:11</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ae860bae97fea582c7a5e7de1af50a6e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1export_1_1_deposit_service.html">DepositService</a> controllers.settings.ApplicationSettingsTab.depositService = Spring.getBeanOfType(DepositService.class)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_application_settings_tab_8java_source.html#l00052">52</a> of file <a class="el" href="_application_settings_tab_8java_source.html">ApplicationSettingsTab.java</a>.</p>

</div>
</div>
<a class="anchor" id="ab5693b82400855094af360526a989b6d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int controllers.settings.ApplicationSettingsTab.SEARCH_MEMBERS_RESULTS_PER_PAGE = 5</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_application_settings_tab_8java_source.html#l00049">49</a> of file <a class="el" href="_application_settings_tab_8java_source.html">ApplicationSettingsTab.java</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>app/controllers/settings/<a class="el" href="_application_settings_tab_8java_source.html">ApplicationSettingsTab.java</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacecontrollers.html">controllers</a></li><li class="navelem"><a class="el" href="namespacecontrollers_1_1settings.html">settings</a></li><li class="navelem"><a class="el" href="classcontrollers_1_1settings_1_1_application_settings_tab.html">ApplicationSettingsTab</a></li>
    <li class="footer">Generated on Fri May 1 2015 10:53:26 for Vireo by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
