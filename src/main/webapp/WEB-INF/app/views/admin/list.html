<div class="row admin-page">
	<div class="col-sm-10 col-sm-push-2" ng-controller="SubmissionListController">

		<modal 
			modal-id="customizeSubmissionListModal" 
			modal-view="views/modals/submissions/customizeSubmissionListModal.html" 
			modal-header-class="modal-header-primary">
		</modal>

		<h1>List ETDs</h1>
		<hr>
		<a href="" ng-click="openModal('#customizeSubmissionListModal')">Customize view</a>

		 <table ng-table-dynamic="tableParams with userColumns" show-filter="false" class="table table-bordered table-striped" id="etd-table">
		 	<thead class="header">
		 		<tr>
			      	<th ng-repeat="column in userColumns">
			          	<span>{{column.title}} 
			          		<span class="pull-right select-toggle" ng-click="sortBy(column)">
					          	<span ng-if="column.sort == 'ASC'" class="glyphicon glyphicon-chevron-up"></span>
					          	<span ng-if="column.sort == 'DESC'" class="glyphicon glyphicon-chevron-down"></span>
					          	<span ng-if="column.sort == 'NONE'" class="glyphicon glyphicon-minus"></span>
				          	</span>
			          	</span>
			      	</th>
			  </tr>
		 	</thead>
		 	<tbody>
				<tr ng-repeat="row in $data">
					<td ng-repeat="col in $columns">{{getSubmissionProperty(row, col)}}</td>
				</tr>
			</tbody>
			<tfoot class="header">
				<tr>
					<th colspan="{{userColumns.length}}">
						{{page.totalElements || 0}} matching records displayed on {{page.totalPages || 0}} pages ({{pageSize || 0}} per page).
					</th>
				</tr>
			</tfoot>
		</table>

		<form class="form-inline pull-right">

            <div class="btn-group" ng-if="page.totalPages > 1">
            	<button 
            		ng-if="pageNumber !== 0"
					class="btn btn-default"
					ng-click="selectPage(pageNumber-1)">
					Prev
				</button>
				<button 
					class="btn btn-default" 
					ng-repeat="i in [] | range:page.totalPages"
					ng-class="{'active': pageNumber===i}"
					ng-click="selectPage(i)">
					{{i*pageSize}}
				</button>
				<button 
					ng-if="pageNumber !== page.totalPages-1"
					class="btn btn-default" 
					ng-click="selectPage(pageNumber+1)">
					Next
				</button>
			</div>

        </form>

	</div>
	<div class="col-sm-2 col-sm-pull-10" ng-controller="SidebarController">
		<sidebox heading="{{box.title}}" ng-repeat="box in sidebarBoxes">
			<div ng-include="box.viewUrl"></div>
		</sidebox>
	</div>
</div>
